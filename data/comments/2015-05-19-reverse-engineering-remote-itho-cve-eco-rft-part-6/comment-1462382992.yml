id: 96
replyTo: 0
name: Jimmy
email: F0D6E096FD45271B1A8CE970F035B72B
body: "Since klusjesman was making great progress, I decided to follow his developments closer ad implement all his changes to Rogier's code.  I tested his findings on my itho/rft and we discovered many new things. For instance, with my RTL-SDR I saw that the join (and leave) command was much larger, and that the counters from klusjesman did not match the counters from my RFT.  With those new findings and much of his research, Klusjesman got closer to a complete solution, so I completely switched over to his code. \nTo use his code, I needed to change things to make is work with the Arduino IDE.  (Especially SPI was different, so for a lot of SPI related functions I took parts from Rogier and other internet resources and put those into the code from Klusjesman)\n\nTo make the code from Klusjesman compatible with my own RFT, I had to change some things as expected, like the Device ID and the ComandBytes. But then it turned out that there are also differences in the counter-bytes, like some parts are shifted and some bytes are just different or in a different order.  I managed to fix those too, so at last my Arduino+CC1101 worked the same as my RFT module.\n\nNext step for me was to make it work on an ESP8266 module instead of an Arduino, which involved a slight SPI change and inserting a few \"yield()\" codes to prevent the ESP8266 watchdog to kick in.\n\nToday I took the last step important step, I took the RFT device ID, command-codes, and the counter-calculations from Klusjesman. After turning the Itho fan off/on, it accepted the Join command!  So now we have proven that we can use his code without having to figure out one's own device-id etcetera.\n(which might only become a problem if your neighbor also has an itho and starts to use this code...)"
date: 2016-05-04T19:29:52.0000000+02:00
